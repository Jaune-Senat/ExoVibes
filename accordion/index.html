<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accordion</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <section>
        <div id="accordion">
            <div class="accordion-part acc-open">
                <h4>
                    <i class="fas textrose"></i>
                    NULLA CONSEQUAT MASSA
                </h4>
                <p>In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo.</p>
            </div>
            <div class="accordion-part">
                <h4><i class="fas textrose"></i>VIVAMUS ELEMENTUM SEMPER</h4>
                <p>In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo.</p>
            </div>
            <div class="accordion-part">
                <h4><i class="fas textrose"></i>ETIAM ULTRICIES NISI VEL</h4>
                <p>In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo.</p>
            </div>
        </div>
    </section>
    <script>
        //on sélectionne tous les h4 des parties de l'accordion
        let titles = document.querySelectorAll(".accordion-part h4")

        //on boucle sur chaque h4
        for(title of titles){
            title.addEventListener("click", function(event){
                let bloc = this.parentElement //on récupère le bloc parent du h4, donc div.accordion-part
                //si cette div contient la classe acc-open, le clic ne doit servir à rien
                //on vérifie que la div ne la contient pas
                if(!bloc.classList.contains("acc-open")){
                    //on sélectionne la div avec la classe acc-open et on la lui supprime
                    document.querySelector(".acc-open").classList.remove("acc-open")
                    //on ajoute la classe acc-open au bloc contenant le h4 visé par le clic
                    bloc.classList.add("acc-open")
                    //et CSS s'occupe du reste
                }
            })
        }
    </script>
</body>
</html>
